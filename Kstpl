variable "region" {
  description = "Name of the region to create a KMS config for"
  type        = string
}

variable "key_name" {
  description = "Name of the key to be used for encryption"
  type        = string
}

variable "key_project_id" {
  description = "Project ID of project where the key to be used for encryption is residing"
  type        = string
  default     = null
}

variable "key_ring_location" {
  description = "Location/region of the keyRing"
  type        = string
}

variable "key_ring_name" {
  description = "Key ring containing the keys to be used for volume encryption"
  type        = string
}

variable "network" {
  description = "The path of the VPC the volumes are attached to"
  type        = string
}




resource "netapp_gcp_kms_config" "example" {
  region           = var.region
  key_name         = var.key_name
  key_project_id   = var.key_project_id
  key_ring_location = var.key_ring_location
  key_ring_name    = var.key_ring_name
  network          = var.network
}



output "id" {
  description = "The unique identifier for the KMS config"
  value       = netapp_gcp_kms_config.example.id
}





module "netapp_gcp_kms_config" {
  source = "./modules/netapp_gcp_kms_config"

  region           = "us-central1"
  key_name         = "my-key"
  key_project_id   = "another-project-id"
  key_ring_location = "us-central1"
  key_ring_name    = "my-key-ring"
  network          = "projects/12345678/global/networks/my-shared-vpc"
}
